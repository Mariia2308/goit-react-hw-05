{"version":3,"file":"MovieDetailsPage-Cs43kXwh.js","sources":["../../src/components/MovieDetail/OneMovieHolder.jsx","../../src/pages/MovieDetailsPage.jsx"],"sourcesContent":["import css from './MovieDetail.module.css';\nimport { Link } from 'react-router-dom';\n//import MovieReviews from './MovieReviews';\n\n\n\nfunction OneMovieHolder({ movieDetails }) {\n  \n  return (\n    <div>\n      {movieDetails && (\n        <div key={movieDetails.id} className={css.card}>\n          <h2 className={css.title}>{movieDetails.title}</h2>\n          <img\n            className={css.img}\n            src={movieDetails.poster_path ? `https://image.tmdb.org/t/p/w300/${movieDetails.poster_path}` : ''}\n            alt={movieDetails.original_title}\n          />\n          <p className={css.overview}>{movieDetails.overview}</p>\n          <p className={css.genres}>Genres: {movieDetails.genres.map(genre => genre.name).join(', ')}</p>\n          <div className={css.links}>\n            <Link className={css.link} to=\"cast\">\n              Cast\n            </Link>\n            <Link className={css.link} to=\"reviews\">\n              Review\n            </Link>\n\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default OneMovieHolder;\n","import { useState, useEffect, useRef } from 'react';\nimport { fetchMovieDetails } from '../services/movies';\nimport { useParams, Outlet, useLocation } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport Loader from '../components/Loader/Loader';\nimport Error from '../components/Error/Error';\nimport OneMovieHolder from '../components/MovieDetail/OneMovieHolder';\n\n\n\nfunction MovieDetailsPage() {\n\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState(null);\n  const location = useLocation();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const backLinkURLRef = useRef(location.state ?? \"/\");\n\n  useEffect(() => {\n    async function fetchMovie() {\n      setLoading(true);\n      try {\n        const movieDetailsResponse = await fetchMovieDetails(movieId);\n        setMovieDetails(movieDetailsResponse);\n      } catch (error) {\n        setError(error.message); \n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchMovie();\n  }, [movieId]);\n\n\n\n  return (\n    <div>\n      <Link to={backLinkURLRef.current}><button>Go back</button></Link>\n      {loading && <Loader />}\n      {error && <Error message={error} />} \n      {movieDetails && <OneMovieHolder movieDetails={movieDetails} />}\n      <Outlet />\n    </div>\n  );\n}\n\nexport default MovieDetailsPage;\n"],"names":["OneMovieHolder","movieDetails","css","jsx","jsxs","genre","Link","MovieDetailsPage","movieId","useParams","setMovieDetails","useState","location","useLocation","loading","setLoading","error","setError","backLinkURLRef","useRef","useEffect","fetchMovie","movieDetailsResponse","fetchMovieDetails","Loader","Error","Outlet"],"mappings":"wNAMA,SAASA,EAAe,CAAE,aAAAC,GAAgB,CAExC,aACG,MACE,CAAA,SAAAA,UACE,MAA0B,CAAA,UAAWC,EAAI,KACxC,SAAA,CAAAC,MAAC,KAAG,CAAA,UAAWD,EAAI,MAAQ,WAAa,MAAM,EAC9CC,EAAA,IAAC,MAAA,CACC,UAAWD,EAAI,IACf,IAAKD,EAAa,YAAc,mCAAmCA,EAAa,WAAW,GAAK,GAChG,IAAKA,EAAa,cAAA,CACpB,QACC,IAAE,CAAA,UAAWC,EAAI,SAAW,WAAa,SAAS,EAClDE,EAAA,KAAA,IAAA,CAAE,UAAWF,EAAI,OAAQ,SAAA,CAAA,WAASD,EAAa,OAAO,IAAII,GAASA,EAAM,IAAI,EAAE,KAAK,IAAI,CAAA,EAAE,EAC1FD,EAAA,KAAA,MAAA,CAAI,UAAWF,EAAI,MAClB,SAAA,CAAAC,MAACG,GAAK,UAAWJ,EAAI,KAAM,GAAG,OAAO,SAErC,OAAA,QACCI,EAAK,CAAA,UAAWJ,EAAI,KAAM,GAAG,UAAU,SAExC,SAAA,CAAA,EAEF,CAjBQ,CAAA,EAAAD,EAAa,EAkBvB,CAEJ,CAAA,CAEJ,CCvBA,SAASM,GAAmB,CAEpB,KAAA,CAAE,QAAAC,GAAYC,IACd,CAACR,EAAcS,CAAe,EAAIC,WAAS,IAAI,EAC/CC,EAAWC,IACX,CAACC,EAASC,CAAU,EAAIJ,WAAS,EAAK,EACtC,CAACK,EAAOC,CAAQ,EAAIN,WAAS,IAAI,EACjCO,EAAiBC,EAAA,OAAOP,EAAS,OAAS,GAAG,EAEnDQ,OAAAA,EAAAA,UAAU,IAAM,CACd,eAAeC,GAAa,CAC1BN,EAAW,EAAI,EACX,GAAA,CACI,MAAAO,EAAuB,MAAMC,EAAkBf,CAAO,EAC5DE,EAAgBY,CAAoB,QAC7BN,EAAO,CACdC,EAASD,EAAM,OAAO,CAAA,QACtB,CACAD,EAAW,EAAK,CAClB,CACF,CAEWM,GAAA,EACV,CAACb,CAAO,CAAC,SAKT,MACC,CAAA,SAAA,CAAAL,EAAAA,IAACG,GAAK,GAAIY,EAAe,QAAS,SAACf,EAAA,IAAA,SAAA,CAAO,mBAAO,CAAS,CAAA,EACzDW,SAAYU,EAAO,EAAA,EACnBR,GAASb,EAAAA,IAACsB,EAAM,CAAA,QAAST,CAAO,CAAA,EAChCf,GAAiBE,EAAA,IAAAH,EAAA,CAAe,aAAAC,CAA4B,CAAA,QAC5DyB,EAAO,EAAA,CACV,CAAA,CAAA,CAEJ"}